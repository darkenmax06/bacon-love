import { c as createComponent, d as createAstro, a as renderTemplate, h as defineScriptVars, e as addAttribute, m as maybeRenderHead } from './astro/server_BB4gczNh.mjs';
import 'piccolore';
import 'clsx';
/* empty css                        */
import { g as getCollection } from './_astro_content_BAUBG7XN.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const $$Platillos = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Platillos;
  const platos = await getCollection("platos");
  const { lang: langProp } = Astro2.props;
  const lang = Astro2.params.lang || langProp || "es";
  const { title } = Astro2.props;
  const parsedPlatos = platos.filter((res) => res.slug.endsWith(lang));
  const platosCategories = Object.groupBy(parsedPlatos, (res) => res.data.type);
  const categoriesNames = Object.keys(platosCategories);
  const currentType = categoriesNames.length > 0 ? platosCategories[categoriesNames[0]] : [];
  return renderTemplate(_a || (_a = __template(["", '<section class="platillos" id="platillos"> <div class="container"> <h2 class="platillos__title">', "</h2> ", ' <div class="platillos__wrapper"> <form class="platillos__types"> ', ' </form> </div> <div class="platillos__container"> ', " </div> </div> </section> <script>(function(){", '\n  const $form = document.querySelector(".platillos form")\n  const $inputs = document.querySelectorAll(".platillos__type input")  \n  const $platillosContainer = document.querySelector(".platillos__container")\n\n  if ($inputs.length > 0) {\n    $inputs[0].setAttribute("checked",true)\n  }\n\n  const renderElements = (target) => {\n    const {value} = target\n      const platos = platosCategories[value]\n      $platillosContainer.innerHTML = ""\n\n      const fragment = document.createDocumentFragment()\n\n      platos.forEach(res => {\n        const a = document.createElement("a")\n        a.classList.add("card")\n        a.setAttribute("href",`/${lang}/plato/${res.slug}`)\n\n        const img = document.createElement("img")\n        img.setAttribute("src", `/content/${res.data.img}`)\n        img.setAttribute("alt",res.data.title)\n\n        const textContainer = document.createElement("div")\n        textContainer.classList.add("card__textbox")\n\n\n        const h4 = document.createElement("h4")\n        h4.textContent = `EUR ${res.data.price} \u20AC`\n\n        const h3 = document.createElement("h3")\n        h3.textContent = res.data.title\n\n        a.appendChild(img)\n        textContainer.appendChild(h4)\n        textContainer.appendChild(h3)\n        a.appendChild(textContainer)\n\n        fragment.appendChild(a)\n        $inputs.forEach(res => res.removeAttribute("checked"))\n        target.setAttribute(\'checked\',true)\n      })\n\n      $platillosContainer.appendChild(fragment)\n\n    }\n\n    setTimeout(()=> {\n      $inputs.forEach(res => {\n        console.log(res.checked)\n          if (res.checked) {\n             renderElements(res)\n          }\n        })\n    },200)\n\n\n\n  $inputs.forEach($input => {\n    $input.addEventListener("change", e=>  renderElements(e.target))\n  })\n})();<\/script>'], ["", '<section class="platillos" id="platillos"> <div class="container"> <h2 class="platillos__title">', "</h2> ", ' <div class="platillos__wrapper"> <form class="platillos__types"> ', ' </form> </div> <div class="platillos__container"> ', " </div> </div> </section> <script>(function(){", '\n  const $form = document.querySelector(".platillos form")\n  const $inputs = document.querySelectorAll(".platillos__type input")  \n  const $platillosContainer = document.querySelector(".platillos__container")\n\n  if ($inputs.length > 0) {\n    $inputs[0].setAttribute("checked",true)\n  }\n\n  const renderElements = (target) => {\n    const {value} = target\n      const platos = platosCategories[value]\n      $platillosContainer.innerHTML = ""\n\n      const fragment = document.createDocumentFragment()\n\n      platos.forEach(res => {\n        const a = document.createElement("a")\n        a.classList.add("card")\n        a.setAttribute("href",\\`/\\${lang}/plato/\\${res.slug}\\`)\n\n        const img = document.createElement("img")\n        img.setAttribute("src", \\`/content/\\${res.data.img}\\`)\n        img.setAttribute("alt",res.data.title)\n\n        const textContainer = document.createElement("div")\n        textContainer.classList.add("card__textbox")\n\n\n        const h4 = document.createElement("h4")\n        h4.textContent = \\`EUR \\${res.data.price} \u20AC\\`\n\n        const h3 = document.createElement("h3")\n        h3.textContent = res.data.title\n\n        a.appendChild(img)\n        textContainer.appendChild(h4)\n        textContainer.appendChild(h3)\n        a.appendChild(textContainer)\n\n        fragment.appendChild(a)\n        $inputs.forEach(res => res.removeAttribute("checked"))\n        target.setAttribute(\'checked\',true)\n      })\n\n      $platillosContainer.appendChild(fragment)\n\n    }\n\n    setTimeout(()=> {\n      $inputs.forEach(res => {\n        console.log(res.checked)\n          if (res.checked) {\n             renderElements(res)\n          }\n        })\n    },200)\n\n\n\n  $inputs.forEach($input => {\n    $input.addEventListener("change", e=>  renderElements(e.target))\n  })\n})();<\/script>'])), maybeRenderHead(), title, console.log("a"), categoriesNames.map((res, i) => renderTemplate`<label class="platillos__type"> <input type="radio"${addAttribute(res, "value")} name="type"> ${res} </label>`), currentType.map((plato) => renderTemplate`<a class="card"${addAttribute(`/${lang}/plato/${plato.slug}`, "href")}> <img loading="lazy"${addAttribute(`/content/${plato.data.img}`, "src")}${addAttribute(`${plato.data.title} - Plato artesanal en Bacon Love`, "alt")}> <div class="card__textbox"> <h4>EUR ${plato.data.price}</h4> <h3>${plato.data.title}</h3> </div> </a>`), defineScriptVars({ platosCategories, lang }));
}, "C:/Users/admin/Desktop/baconlove/bacon-love/src/components/Platillos.astro", void 0);

export { $$Platillos as $ };
